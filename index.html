<html>
    <head>
        <title>Calculadora de CORE</title>
        <meta charset="utf-8">
    </head>
    <script type="text/javascript">
        
        const getValorEntrada=()=>{ //Coger valor de pantalla
            return Number(document.getElementById("pantalla").value)
        }

        const setValorEntrada=(valor)=>{//Cambiar valor de pantalla
            document.getElementById("pantalla").value=valor;
        }

        const vaciarInput=()=>{
            document.getElementById("pantalla").value="";
        }

        const sq = () =>{ //Funcion cuadrado
            let ValorEntrada = getValorEntrada();
            let resultado = ValorEntrada*ValorEntrada;
            setValorEntrada(resultado);
        }

        const fact = () =>{//Funcion factorial
            let ValorEntrada = getValorEntrada();
            let resultado = 1;
            for (ValorEntrada; ValorEntrada>1;ValorEntrada--){
                resultado *= ValorEntrada;
            }
            setValorEntrada(resultado);
        }

        const sqr = () =>{//Funcion raiz cuadrada
            let ValorEntrada = getValorEntrada();
            let resultado = Math.sqrt(ValorEntrada);
            setValorEntrada(resultado);
        }

        let acumulador =0;//Base del acumulador
        let operador ="";

        const acumula = n=>{
            switch(operador){
                case "": acumulador=n; break;
                case"+":acumulador +=n; break;
            }
        }

        const add=()=>{
            acumula(getValorEntrada());
            operador = "+";
            vaciarInput();
        }

        const eq =()=>{
            acumula(getValorEntrada());
            operador=="=";
            vaciarInput();
            setValorEntrada(acumulador);
        }

        const sub=()=>{
            acumula(getValorEntrada());
            operador=="-";
            vaciarInput();
            setValorEntrada(acumulador);
        }

        const onload =()=>{
            document.getElementById("cuadrado").addEventListener("click",sq);
            document.getElementById("factorial").addEventListener("click",fact);
            document.getElementById("raiz").addEventListener("click",sqr);
            document.getElementById("suma").addEventListener("click",add);
            document.getElementById("igual").addEventListener("click",eq);
            document.getElementById("resta").addEventListener("click",sub);
        }

        window.onload = onload;

    </script>
        <body>
            <h2 class="cabecera">Calculadora de Core</h2>
            <div id="inputTexto">
                <input type="text" id="pantalla"></input> 
            </div>   
            <h3 class="cabecera" title="Unitarias">Operaciones unitarias</h3>
            <div class="operaciones">    
                <button id="cuadrado">x<sup>2</sup></button>
                <button id="factorial">x!</button>
                <button id="raiz">&#8730 x</button>
            </div> 
            <h3 id="info" class="cabecera" title="binarias">Operaciones binarias</h3>
            <div class="operaciones">
                <button id="suma"> + </button>
                <button id="igual"> = </button>
                <button id="resta"> - </button>
            </div>
        </body>
</html>