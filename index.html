<html>
    <head>
        <title>Calculadora de CORE</title>
        <meta charset="utf-8">
    </head>
    <script type="text/javascript">

        let acumulador =0;
        let operador ="";

        const rellenar_info=()=>{
            const resultado = getValorEntrada();
            let mensaje = "";
            if(Number.isNan(resultado)){
                mensaje = "Error";
            }
            else {
                    if (resultado < 100) {
                        mensaje = "Info: El resultado es menor que 100";
                    }
                    else if (resultado <= 200) {
                        mensaje = "Info: El resultado está entre 100 y 200";
                    }
                    else {
                        mensaje = "Info: El resultado es superior a 200";
                    }
                }
                document.getElementById("info").innerHTML = mensaje;

        }

        const acumula = n=>{//Acumulador
            switch(operador){
                case "":acumulador =n; break;
                case"+":acumulador +=n; break;
                case"-":acumulador -=n; break;
                case"*":acumulador *=n; break;
                case"/":acumulador /=n; break;
            }
        }
        
        const getValorEntrada=()=>{ //Coger valor de pantalla
            return Number(document.getElementById("pantalla").value)
        }

        const setValorEntrada=(valor)=>{//Cambiar valor de pantalla
            document.getElementById("pantalla").value=valor;
        }

        const vaciarInput=()=>{
            document.getElementById("pantalla").value="";
        }

        const sq = () =>{ //Funcion cuadrado
            let ValorEntrada = getValorEntrada();
            let resultado = ValorEntrada*ValorEntrada;
            setValorEntrada(resultado);
            rellenar_info();
        }

        const fact = () =>{//Funcion factorial
            let ValorEntrada = getValorEntrada();
            let resultado = 1;
            for (ValorEntrada; ValorEntrada>1;ValorEntrada--){
                resultado *= ValorEntrada;
            }
            setValorEntrada(resultado);
        }

        const sqr = () =>{//Funcion raiz cuadrada
            let ValorEntrada = getValorEntrada();
            let resultado = Math.sqrt(ValorEntrada);
            setValorEntrada(resultado);
        }

        const add=()=>{//Funcion suma
            acumula(getValorEntrada());
            operador = "+";
            vaciarInput();
        }

        const sub=()=>{//funcion resta
            acumula(getValorEntrada());
            operador=="-";
            vaciarInput();
        }

        const mul=()=>{//funcion multiplicacion
            acumula(getValorEntrada());
            operador=="*";
            vaciarInput();
        }

        const div=()=>{//Funcion division
            acumula(getValorEntrada());
            operador=="/";
            vaciarInput();
        }

        const eq =()=>{//funcion igual
            acumula(getValorEntrada());
            operador = "=";
            vaciarInput();
            setValorEntrada(acumulador);
        }

        const onload =()=>{//En carga
            document.getElementById("cuadrado").addEventListener("click",sq);
            document.getElementById("factorial").addEventListener("click",fact);
            document.getElementById("raiz").addEventListener("click",sqr);
            document.getElementById("suma").addEventListener("click",add);
            document.getElementById("igual").addEventListener("click",eq);
            document.getElementById("resta").addEventListener("click",sub);
            document.getElementById("multiplicacion").addEventListener("click",mul);
            document.getElementById("division").addEventListener("click",div);
        }

        window.onload = onload;

    </script>
        <body>
            <h2 class="cabecera">Calculadora de Core</h2>
            <div id="inputTexto">
                <input type="text" id="pantalla"></input> 
            </div>   
            <h3 class="cabecera" title="Unitarias">Operaciones unitarias</h3>
            <div class="operaciones">    
                <button id="cuadrado">x<sup>2</sup></button>
                <button id="factorial">x!</button>
                <button id="raiz">&#8730 x</button>
            </div> 
            <h3 id="info" class="cabecera" title="binarias">Operaciones binarias</h3>
            <div class="operaciones">
                <button id="suma"> + </button>
                <button id="resta"> - </button>
                <button id="multiplicacion"> * </button>
                <button id="division"> / </button>
                <button id="igual"> = </button>
            </div>
            <h2 id="info" class="grande" title="Info sobre el número">Info sobre el número</h2>
        </body>
</html>